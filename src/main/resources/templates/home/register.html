<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

	<head lang="en">
		<meta charset="UTF-8">
		<title>注册</title>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
		<meta name="format-detection" content="telephone=no">
		<meta name="renderer" content="webkit">
		<meta http-equiv="Cache-Control" content="no-siteapp" />

		<link rel="stylesheet" th:href="@{/AmazeUI-2.4.2/assets/css/amazeui.min.css}" />
		<link th:href="@{/css/dlstyle.css}" rel="stylesheet" type="text/css">
		<script th:src="@{/AmazeUI-2.4.2/assets/js/jquery.min.js}"></script>
		<script th:src="@{/AmazeUI-2.4.2/assets/js/amazeui.min.js}"></script>

	</head>

	<body>

		<div class="login-boxtitle">
			<a href="home/demo.html"><img alt="" th:src="@{/images/logobig.png}" /></a>
		</div>

		<div class="res-banner">
			<div class="res-main">
				<div class="login-banner-bg"><span></span><img th:src="@{/images/big.jpg}" /></div>
				<div class="login-box">

						<div class="am-tabs" id="doc-my-tabs">
							<ul class="am-tabs-nav am-nav am-nav-tabs am-nav-justify">
								<li class="am-active"><a href="">邮箱注册</a></li>
								<li><a href="">手机号注册</a></li>
							</ul>

							<div class="am-tabs-bd">
								<div class="am-tab-panel am-active">
									<form method="post" action="registuser">
										<div class="user-email">
											<label for="email"><i class="am-icon-envelope-o"></i></label>
											<input type="email" name="email" id="email" placeholder="请输入邮箱账号">
                 						</div>
										<div class="user-pass">
												<label for="emailuserPassword"><i class="am-icon-lock"></i></label>
												<input type="password" name="emailuserPassword" id="emailpassword" placeholder="设置密码">
										</div>
										<div class="user-pass">
												<label for="emailpasswordRepeat"><i class="am-icon-lock"></i></label>
												<input type="password"  id="emailpasswordRepeat" placeholder="确认密码">
										</div>
										<div class="am-cf">
											<input type="button" name="" th:onclick="checkEmail()" value="注册" class="am-btn am-btn-primary am-btn-sm am-fl">
										</div>
									</form>
										<div class="login-links">
												<label for="reader-me">
													<input id="reader-me" type="checkbox"> 点击表示您同意商城《服务协议》
												</label>
										</div>


								</div>
								<div class="am-tab-panel">
									<form method="post" action="registuser">
										 <div class="user-phone">
											 <label for="phone"><i class="am-icon-mobile-phone am-icon-md"></i></label>
											 <input type="tel" name="number" id="phone" placeholder="请输入手机号">
										 </div>
										<div class="verification">
											<label for="code"><i class="am-icon-code-fork"></i></label>
											<input type="tel" name="verifyCode" id="code" placeholder="请输入验证码">
											<a class="btn" href="javascript:void(0);" onclick="test();" id="sendMobileCode">
												<span id="dyMobileButton">获取</span></a>
										</div>
										<div class="user-pass">
											<label for="password"><i class="am-icon-lock"></i></label>
											<input type="password" name="userPassword" id="phonePassword" placeholder="设置密码">
										</div>
										<div class="user-pass">
											<label for="passwordRepeat"><i class="am-icon-lock"></i></label>
											<input type="password"  id="phonePasswordRepeat" placeholder="确认密码">
										</div>
										<div class="am-cf">
											<input type="button" name="" th:onclick="checkPhone()" value="注册" class="am-btn am-btn-primary am-btn-sm am-fl">
										</div>
									</form>
										<div class="login-links">
											<label for="reader-me">
												<input id="reader-me" type="checkbox"> 点击表示您同意商城《服务协议》
											</label>
							  			</div>

								
									<hr>

								</div>

<!--								</form>-->

								<script>
									$(function() {
									    $('#doc-my-tabs').tabs();
									  })
								</script>

							</div>
						</div>

				</div>
			</div>
			
					<div class="footer ">
						<div class="footer-hd ">
							<p>
								<a href="# ">恒望科技</a>
								<b>|</b>
								<a href="# ">商城首页</a>
								<b>|</b>
								<a href="# ">支付宝</a>
								<b>|</b>
								<a href="# ">物流</a>
							</p>
						</div>
						<div class="footer-bd ">
							<p>
								<a href="# ">关于恒望</a>
								<a href="# ">合作伙伴</a>
								<a href="# ">联系我们</a>
								<a href="# ">网站地图</a>
								<em>© 2015-2025 Hengwang.com 版权所有</em>
							</p>
						</div>
					</div>
<!--			<script>-->
<!--				function checkPhone(){-->
<!--					var phone = document.getElementById('phone').value;-->
<!--					if(!(/^1[3456789]\d{9}$/.test(phone))||phone.length!=11){-->
<!--						alert("手机号码有误，请重填");-->
<!--						return false;-->
<!--					}-->
<!--				}-->
<!--				// function check() {-->
<!--				// 	var res = checkPhone();-->
<!--				// 	document.write(res);-->
<!--				// 	return false;-->
<!--				// }-->
<!--			</script>-->
			<script type="text/javascript">
				function checkEmail() {
					if($("#email").val().indexOf("@")!=-1){
						alert("!!!!!");
						return true;
					}else{
						alert("无");
						return false;
					}
				}



				function test() {
					var phone = document.getElementById('phone').value;
										if(!(/^1[3456789]\d{9}$/.test(phone))) {
											alert("手机号码有误，请重填");
											return false;
										}
					var number = $("input[name='number']").val();
					$.post("sendSms","number="+number,function (data) {
						if(data==false){
							alert("false");
							alert("data:"+data.toString());
						}else{
							alert("true");
						}
					},"JSON");
				};

				function checkPhone() {
					//提交判断依次判断手机格式、密码验证，再提交请求
					var phone = document.getElementById('phone').value;
					if(!(/^1[3456789]\d{9}$/.test(phone))) {
						alert("手机号码有误，请重填");
						return false;
					}
					//验证密码确认及验证码填写
					var phonePassword = document.getElementById('phonePassword').value;
					var phonePasswordRepeat = document.getElementById('phonePasswordRepeat').value;
					var code = document.getElementById('code').value;
					if(phonePassword.length<6){
						alert("密码长度必须大于6位！");
						return false;
					}
					if(phonePassword!=phonePasswordRepeat){
						alert("两次密码不一致");
						return false;
					}
					if(code.length==0){
						alert("请输入验证码");
						return false;
					}
					// alert("阿瑟");
					var number = $("input[name='number']").val();
					var userPassword = $("input[name='userPassword']").val();
					var verifyCode = $("input[name='verifyCode']").val();
					$.post("registuser","number="+number+"&userPassword="+userPassword+"&verifyCode="+verifyCode,function (data) {
						if(data.name=="wrong") {
							alert("验证码错误");
							return false;
						}else if(data.name=="nocode"){
							alert("请发送手机验证码！");
							return false;
						}else if(data.name=="passed"){
							alert("验证码超时");

							return false;
						}else if(data.name=="exists"){
							alert("手机号用户已存在");
							return false;
						}else if(data.name=="Finish"){
							alert("注册成功!");
							window.location.href="index";
						}else if(data.name=="registwrong"){
							alert("注册出错");
							return false;
						}
					},"JSON");
				};

			</script>

	</body>

</html>